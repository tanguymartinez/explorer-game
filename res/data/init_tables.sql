DROP TABLE IF EXISTS ANIMATION;
DROP TABLE IF EXISTS REPLY;
DROP TABLE IF EXISTS ENTITY;
DROP TABLE IF EXISTS MAP;

CREATE TABLE IF NOT EXISTS MAP(
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	name VARCHAR NOT NULL,
	created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
	updated_at DATETIME DEFAULT CURRENT_TIMESTAMP);

CREATE TABLE IF NOT EXISTS ENTITY(
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	map_id INTEGER NOT NULL,
	name VARCHAR NOT NULL,
	left INT NOT NULL,
	top INT NOT NULL,
	width INT NOT NULL,
	height INT NOT NULL,
	clickable BOOLEAN NOT NULL,
	FOREIGN KEY (map_id) REFERENCES MAP(id));

CREATE TABLE IF NOT EXISTS ANIMATION(
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	entity_id INTEGER NOT NULL,
	name VARCHAR NOT NULL,
	left INT NOT NULL,
	top INT NOT NULL,
	width INT NOT NULL,
	height INT NOT NULL,
	nb_frames INT NOT NULL,
	duration FLOAT NOT NULL,
	FOREIGN KEY (entity_id) REFERENCES ENTITY(id));

CREATE TABLE IF NOT EXISTS REPLY(
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		entity_id INTEGER NOT NULL,
		at INT NOT NULL,
		content TEXT NOT NULL,
		FOREIGN KEY (entity_id) REFERENCES ENTITY(id));

.tables
